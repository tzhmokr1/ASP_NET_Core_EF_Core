PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE Rounds(
Id INTEGER PRIMARY KEY,
Start TEXT NOT NULL,
End TEXT);
CREATE TABLE AssemblySteps(
Id INTEGER PRIMARY KEY,
Cost INTEGER NOT NULL,
Name TEXT NOT NULL);
CREATE TABLE Stations(
Id INTEGER PRIMARY KEY,
Position TEXT NOT NULL,
RoundId INTEGER NOT NULL,
FOREIGN KEY (RoundID) REFERENCES Rounds(Id));
CREATE TABLE StationAssemblySteps(
AssemblyStepId INTEGER NOT NULL,
StationId INTEGER NOT NULL,
FOREIGN KEY (AssemblyStepId) REFERENCES AssemblySteps(Id),
FOREIGN KEY (StationId) REFERENCES Stations(Id));
CREATE TABLE Products(
Id INTEGER PRIMARY KEY,
Start TEXT NOT NULL,
End TEXT,
RoundId INTEGER NOT NULL,
FOREIGN KEY (RoundId) REFERENCES Rounds(Id));
CREATE TABLE PartDefinitions(
Id INTEGER PRIMARY KEY,
Cost INTEGER NOT NULL,
Name TEXT NOT NULL);
CREATE TABLE Parts(
ProductId INTEGER NOT NULL,
PartDefinitionId INTEGER NOT NULL,
FOREIGN KEY (ProductId) REFERENCES Products(Id),
FOREIGN KEY (PartDefinitionId) REFERENCES PartDefinitions(Id));
DELETE FROM sqlite_sequence;
COMMIT;
